{"ast":null,"code":"import React,{useState,useEffect}from'react';import diceIcon from'../assets/icons/icon-dice.svg';import desktopDivider from'../assets/icons/pattern-divider-desktop.svg';import mobileDivider from'../assets/icons/pattern-divider-mobile.svg';import'../styles/MainContent.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function MainContent(){const[advice,setAdvice]=useState('');const[adviceId,setAdviceId]=useState('');const[loading,setLoading]=useState(false);// Состояние загрузки\n// Fetch advice from API\nconst fetchAdvice=async()=>{setLoading(true);// Устанавливаем состояние загрузки\ntry{const response=await fetch('https://api.adviceslip.com/advice');const data=await response.json();setAdvice(data.slip.advice);setAdviceId(data.slip.id);}catch(error){console.error('Error fetching advice:',error);setAdvice('Oops! Something went wrong.');setAdviceId('???');}finally{setLoading(false);// Сбрасываем состояние загрузки\n}};// Fetch advice on first render\nuseEffect(()=>{fetchAdvice();},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"advice-id\",children:[\"ADVICE #\",loading?'...':adviceId]}),/*#__PURE__*/_jsx(\"p\",{className:\"advice-text\",children:loading?'Loading...':advice}),/*#__PURE__*/_jsxs(\"picture\",{className:\"divider\",children:[/*#__PURE__*/_jsx(\"source\",{srcSet:mobileDivider,media:\"(max-width: 375px)\"}),/*#__PURE__*/_jsx(\"img\",{src:desktopDivider,alt:\"Divider\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"dice-button\",onClick:fetchAdvice,children:/*#__PURE__*/_jsx(\"img\",{src:diceIcon,alt:\"Generate Advice\"})})]});}export default MainContent;","map":{"version":3,"names":["React","useState","useEffect","diceIcon","desktopDivider","mobileDivider","jsxs","_jsxs","jsx","_jsx","MainContent","advice","setAdvice","adviceId","setAdviceId","loading","setLoading","fetchAdvice","response","fetch","data","json","slip","id","error","console","className","children","srcSet","media","src","alt","onClick"],"sources":["C:/Users/axm/Documents/GitHub/advice-generator/src/components/MainContent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport diceIcon from '../assets/icons/icon-dice.svg';\r\nimport desktopDivider from '../assets/icons/pattern-divider-desktop.svg';\r\nimport mobileDivider from '../assets/icons/pattern-divider-mobile.svg';\r\nimport '../styles/MainContent.css';\r\n\r\nfunction MainContent() {\r\n    const [advice, setAdvice] = useState('');\r\n    const [adviceId, setAdviceId] = useState('');\r\n    const [loading, setLoading] = useState(false); // Состояние загрузки\r\n\r\n    // Fetch advice from API\r\n    const fetchAdvice = async () => {\r\n        setLoading(true); // Устанавливаем состояние загрузки\r\n        try {\r\n            const response = await fetch('https://api.adviceslip.com/advice');\r\n            const data = await response.json();\r\n            setAdvice(data.slip.advice);\r\n            setAdviceId(data.slip.id);\r\n        } catch (error) {\r\n            console.error('Error fetching advice:', error);\r\n            setAdvice('Oops! Something went wrong.');\r\n            setAdviceId('???');\r\n        } finally {\r\n            setLoading(false); // Сбрасываем состояние загрузки\r\n        }\r\n    };\r\n\r\n    // Fetch advice on first render\r\n    useEffect(() => {\r\n        fetchAdvice();\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"card\">\r\n            <h1 className=\"advice-id\">ADVICE #{loading ? '...' : adviceId}</h1>\r\n            <p className=\"advice-text\">{loading ? 'Loading...' : advice}</p>\r\n            <picture className=\"divider\">\r\n                <source srcSet={mobileDivider} media=\"(max-width: 375px)\" />\r\n                <img src={desktopDivider} alt=\"Divider\" />\r\n            </picture>\r\n            <button className=\"dice-button\" onClick={fetchAdvice}>\r\n                <img src={diceIcon} alt=\"Generate Advice\" />\r\n            </button>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default MainContent;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,+BAA+B,CACpD,MAAO,CAAAC,cAAc,KAAM,6CAA6C,CACxE,MAAO,CAAAC,aAAa,KAAM,4CAA4C,CACtE,MAAO,2BAA2B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEnC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACnB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAAE;AAE/C;AACA,KAAM,CAAAgB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5BD,UAAU,CAAC,IAAI,CAAC,CAAE;AAClB,GAAI,CACA,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CACjE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCT,SAAS,CAACQ,IAAI,CAACE,IAAI,CAACX,MAAM,CAAC,CAC3BG,WAAW,CAACM,IAAI,CAACE,IAAI,CAACC,EAAE,CAAC,CAC7B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CZ,SAAS,CAAC,6BAA6B,CAAC,CACxCE,WAAW,CAAC,KAAK,CAAC,CACtB,CAAC,OAAS,CACNE,UAAU,CAAC,KAAK,CAAC,CAAE;AACvB,CACJ,CAAC,CAED;AACAd,SAAS,CAAC,IAAM,CACZe,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIV,KAAA,SAAMmB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAClBpB,KAAA,OAAImB,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,UAAQ,CAACZ,OAAO,CAAG,KAAK,CAAGF,QAAQ,EAAK,CAAC,cACnEJ,IAAA,MAAGiB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEZ,OAAO,CAAG,YAAY,CAAGJ,MAAM,CAAI,CAAC,cAChEJ,KAAA,YAASmB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACxBlB,IAAA,WAAQmB,MAAM,CAAEvB,aAAc,CAACwB,KAAK,CAAC,oBAAoB,CAAE,CAAC,cAC5DpB,IAAA,QAAKqB,GAAG,CAAE1B,cAAe,CAAC2B,GAAG,CAAC,SAAS,CAAE,CAAC,EACrC,CAAC,cACVtB,IAAA,WAAQiB,SAAS,CAAC,aAAa,CAACM,OAAO,CAAEf,WAAY,CAAAU,QAAA,cACjDlB,IAAA,QAAKqB,GAAG,CAAE3B,QAAS,CAAC4B,GAAG,CAAC,iBAAiB,CAAE,CAAC,CACxC,CAAC,EACP,CAAC,CAEf,CAEA,cAAe,CAAArB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}